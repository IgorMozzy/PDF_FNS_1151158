# üìë –°–ø—Ä–∞–≤–∫–∞ –æ–± –æ–ø–ª–∞—Ç–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª—É–≥ (FastAPI + PDF)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ FastAPI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF-—Å–ø—Ä–∞–≤–æ–∫ –ø–æ —Ñ–æ—Ä–º–µ –ö–ù–î 1151158 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ API –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ PDF-—à–∞–±–ª–æ–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–µ–±-—Ñ–æ—Ä–º—ã
- üîÅ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API (CRM HH)
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Ñ–æ—Ä–º—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ (`localStorage`)
- üñºÔ∏è –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ —Å–ø—Ä–∞–≤–∫–∏ –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ PDF

---
![–ü—Ä–∏–º–µ—Ä](static/demo.jpg)

---
## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```
### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```
pip install -r requirements.txt
```
### 4. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —É–∂–µ –≤ app/settings.py
```
HOST=127.0.0.1
PORT=8000
RELOAD=True
STATIC_DIR=static
TEMPLATE_PATH=static/template.pdf
```
### 5. –ó–∞–ø—É—Å–∫
```
uvicorn app.app:app --reload
–î–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —É–∫–∞–∑–∞–Ω–æ–º –≤ .env —Ö–æ—Å—Ç–µ –∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ http://localhost:8000
```
### –ó–∞–ø—É—Å–∫ –≤ Docker
```
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t edu-pdf .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run --name edu-pdf-container -p 8000:8000 --env-file .env edu-pdf

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker stop edu-pdf-container
```
### –ü—Ä–∏–º–µ—Ä API –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ø—Ä–∞–≤–∫–∏
```
POST /fill_pdf/
Content-Type: application/json

{
  "org_inn": "1234567890",
  "org_kpp": "987654321",
  "doc_number": "A-001",
  "correction_number": "01",
  "year": "2025",
  "org_name_1": "–û–û–û –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",
  "org_name_2": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 2",
  "org_name_3": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 3",
  "org_name_4": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 4",
  "education_form": "0",
  "payer_last_name": "–ò–≤–∞–Ω–æ–≤",
  "payer_first_name": "–ò–≤–∞–Ω",
  "payer_middle_name": "–ò–≤–∞–Ω–æ–≤–∏—á",
  "payer_inn": "123456789012",
  "payer_birth_day": "15",
  "payer_birth_month": "06",
  "payer_birth_year": "1990",
  "payer_doc_type": "21",
  "payer_doc_series": "4510 123456",
  "payer_doc_issue_day": "10",
  "payer_doc_issue_month": "05",
  "payer_doc_issue_year": "2010",
  "same_person": "0",
  "amount_rub": "15000",
  "amount_kop": "50",
  "org_head_last_name": "–ü–µ—Ç—Ä–æ–≤",
  "org_head_first_name": "–ü–µ—Ç—Ä",
  "org_head_middle_name": "–ü–µ—Ç—Ä–æ–≤–∏—á",
  "doc_day": "24",
  "doc_month": "04",
  "doc_year": "2025",
  "pages_count": "2",
  "student_last_name": "–ü–µ—Ç—Ä–æ–≤",
  "student_first_name": "–ê–ª–µ–∫—Å–µ–π",
  "student_middle_name": "–ü–µ—Ç—Ä–æ–≤–∏—á",
  "student_inn": "987654321098",
  "student_birth_day": "01",
  "student_birth_month": "09",
  "student_birth_year": "2010",
  "student_doc_type": "03",
  "student_doc_series": "VIII-123456",
  "student_doc_issue_day": "01",
  "student_doc_issue_month": "10",
  "student_doc_issue_year": "2010",
  "doc_date": "2025-04-24"
}
```

### üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞


```
‚îú‚îÄ‚îÄ app/                    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ app.py               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ app, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä—É—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ PDF
‚îÇ   ‚îú‚îÄ‚îÄ settings.py          # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–∑ .env —Ñ–∞–π–ª–∞
‚îÇ   ‚îî‚îÄ‚îÄ tools.py             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç)
‚îÇ
‚îú‚îÄ‚îÄ static/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html           # –ì–ª–∞–≤–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ template.pdf         # –®–∞–±–ª–æ–Ω PDF-—Ñ–∞–π–ª–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ template_Page_1.png  # –ü—Ä–µ–≤—å—é 1-–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø—Ä–∞–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ template_Page_2.png  # –ü—Ä–µ–≤—å—é 2-–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø—Ä–∞–≤–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ .env.example             # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .flake8                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∏–ª—è –∫–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é flake8
‚îú‚îÄ‚îÄ Dockerfile               # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ Docker-–æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ README.md                # –°–µ–π—á–∞—Å –≤—ã –∑–¥–µ—Å—å
‚îî‚îÄ‚îÄ requirements.txt         # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python
```

### Misc
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```
black . --check       # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—É Black
isort . --check-only  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤
flake8 .              # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ PEP8 –∏ –Ω–∞ —á–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏
```